"use strict";var nuriTheme;jQuery(document).ready(function(f){f("#nav-toggle").on("click",function(){f("body").toggleClass("active-nav"),f("#nav-toggle").toggleClass("active")});var e=f("header"),t=f(window);if(f(".wrapper > article > div").first().hasClass("wp-block-cover")){var o=f(".wrapper > article > div").first();o.addClass("cover-on-top").css({height:window.innerHeight}),o.find(".wp-block-cover__inner-container").append('<div class="scrollToBottom bounce"><a href="#"><i class="scroll-icon"></i></a></div>'),f(".wp-block-cover").on("click",".scrollToBottom",function(){var e=o.next().offset().top;f("html,body").animate({scrollTop:e},1e3,"swing")}),e.addClass("dynamic-header"),t.scroll(function(){t.scrollTop()>=t.height()?e.addClass("fixed-header"):e.removeClass("fixed-header")})}if(f("select").length&&f("select").selectWoo(),f(".single-product-info").on("click",".single-product-info-title",function(){f(this).next().slideToggle()}),f(".woo-back").length){var i=f(".woo-back").detach();f(".woocommerce-product-gallery").prepend(i),f(".woo-back").css("opacity",1),f(".woo-back-link").hover(function(){f(".woo-back-name").fadeToggle()})}var p=[],l=[],c="*";if(f(".woo-custom-filter").length){var r=function(){console.log("formReset()"),l=[],s="",f("input[type=checkbox]").prop("checked",!1),h.isotope({filter:c}),f(".filter-current-parent .filter-child-cat").slideUp(),f(".filter-current-parent").removeClass("filter-current-parent"),setTimeout(function(){w()},100)},a=0;if(f(window).scroll(function(e){var t=f(this).scrollTop();a<t?f(".filter-current-parent .filter-child-cat").slideUp().addClass("sub-visible").removeClass("sub-hidden"):f(".filter-current-parent .filter-child-cat").slideDown().addClass("sub-hidden").removeClass("sub-visible"),a=t}),f(document).on("mouseenter",".woo-custom-filter",function(e){f(".filter-current-parent .filter-child-cat").slideDown()}).on("mouseleave",".woo-custom-filter",function(){f(".filter-current-parent .filter-child-cat.sub-visible").slideUp()}),f(".woo-custom-filter").data("query-cat-id")){var n=f(".woo-custom-filter").data("query-cat-id");l.push(n),c=".product_cat-"+n,console.log("category page")}f(".filter-current-parent .filter-child-cat").slideToggle();var s,h=f(".products");h.children().each(function(){var e=f(this).attr("class").split("post-")[1].match(/\d+/)[0];p.push(e)}),f(".filter-parent-cat").on("click","span",function(e){f("html, body").animate({scrollTop:0},"slow"),r();var t=f(this).parent();"block"==t.find(".filter-child-cat").css("display")?f(".filter-current-parent .filter-child-cat").slideToggle().parent().removeClass("filter-current-parent"):("block"==f(".filter-child-cat").css("display")&&(f(".filter-current-parent .filter-child-cat").slideToggle(),f(".filter-current-parent").removeClass("filter-current-parent")),t.addClass("filter-current-parent").find(".filter-child-cat").slideToggle())}),f(".woo-custom-filter").on("click",".clear-filter",function(e){r()}),f(".filter-child-cat li input.checked").length&&f(".filter-child-cat li input.checked").trigger("click"),h.isotope({itemSelector:".product",layoutMode:"fitRows",filter:c}),f(".woo-custom-filter").on("click",".product-parent-selector",function(){var e=f(this).attr("data-filter");s=e.substring(13),l.push(s),h.isotope({filter:e}),setTimeout(function(){w()},100)});var d=f(".filter-child-cat input");d.change(function(){var t=[];l=[],d.filter(":checked").each(function(){f("html, body").animate({scrollTop:0},"slow");var e=f(this).attr("data-filter");t.push(e),l.push(e.substring(13))}),0==l.length&&l.push(s),t=t.join(", "),console.log("filters: "+t),h.isotope({filter:t}),setTimeout(function(){w()},100)}),f(window).on("resize scroll",function(){var e,t,o,i,c;t=f(e=".load-more-wrapper").offset().top,o=t+f(e).outerHeight(),i=f(window).scrollTop(),c=i+f(window).height(),i<o&&t<c&&m&&(m=!1,w())}),setTimeout(function(){w()},100)}var u="https://nurifood.ch/wp-json/wc/v3/products";var g="Basic "+btoa("ck_4dbc36409a2f3772d2bb18e8b066f31c20f1cdde"+":"+"cs_b9046328ab21f1aa53715a6c37cf455f35ffdaab"),m=!0;f(".woo-custom-filter").data("postcount")&&f(".woo-custom-filter").data("postcount");function w(){var o=4,t=4,i=l.join(","),c=p.join(",");h.on("layoutComplete",function(e,t){o=t.length,console.log("filteredItems length: "+o)}),setTimeout(function(){t=o%4==0?4:4-o%4,console.log("elements to load: "+t)},100),setTimeout(function(){var e;console.log(u+"?per_page="+t+"&category="+i+"&exclude="+c),e=u+"?per_page="+t+"&category="+i+"&exclude="+c,jQuery.ajax({url:e,method:"GET",beforeSend:function(e){e.setRequestHeader("Authorization",g),m=!1},success:function(d){var u=0;console.log("data length: "+d.length),d.length<=3?f(".lds-ellipsis").fadeOut():f(".lds-ellipsis").fadeIn(),jQuery.each(d,function(e,t){if(u<=3){var o=d[e].id,i=d[e].name,c=d[e].permalink,l=d[e].price_html,r=d[e].categories,a="";r.forEach(function(e,t,o){a=a+"product_cat-"+e.id+" "});var n=d[e].images[0]?d[e].images[0].shop_catalog:"https://nurifood.ch/wprs/wp-content/uploads/custom-woo-placeholder.gif",s=f('<li class="product type-product post-'+o+" status-publish "+a+'has-post-thumbnail shipping-taxable purchasable product-type-simple"><a href="'+c+'" class="woocommerce-LoopProduct-link woocommerce-loop-product__link"><img width="315" height="420" src="'+n+'" class="attachment-woocommerce_thumbnail size-woocommerce_thumbnail" alt loading="lazy" /><h2 class="woocommerce-loop-product__title">'+i+'</h2><span class="price">'+l+"</span></a></li>");h.isotope("insert",s),p.push(o),u++}})},error:function(e,t,o){console.log("ERROR : ",o),console.log("ERROR : ",$xhr),console.log("ERROR : ",t)}}).done(function(e){e.length&&(m=!0)})},150)}});